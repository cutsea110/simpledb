<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
	  $.getJSON("./sample.json", function(json) {
	      var data = eval("("+jsonData.responseText+")");
	      console.log(data);
	      var rw_data = new google.visualization.arrayToDataTable(data["rw"]);
	      new google.visualization.ComboChart(document.getElementById('rw_chart'))
		  .draw(rw_data,
			{title:"file manager read/written blocks and total elapsed time",
			 width:600, height:400,
			 isStacked: true,
			 vAxis: {
			     0: {title: "read+written blocks"},
			     1: {title: "elapsed time (sec)"},
			 },
			 hAxis: {title: "construction"},
			 series: {
			     0: {type: 'bars', targetAxisIndex: 0},
			     1: {type: 'bars', targetAxisIndex: 0},
			     2: {type: 'line', targetAxisIndex: 1},
			 }
			});

	      var cache_data = new google.visualization.arrayToDataTable(data["cache"]);
	      new google.visualization.ComboChart(document.getElementById('cache_chart'))
		  .draw(cache_data,
			{title:"buffer manager cache hit/new assigned pages and the ratio",
			 width:600, height:400,
			 isStacked: true,
			 vAxis: {
			     0: {title: "pages"},
			     1: {title: "ratio (%%)"},
			 },
			 hAxis: {title: "construction"},
			 series: {
			     0: {type: 'bars', targetAxisIndex: 0},
			     1: {type: 'bars', targetAxisIndex: 0},
			     2: {type: 'line', targetAxisIndex: 1},
			 }
			});
	  });
	  

      }
    </script>
  </head>
  <body>
    <table>
      <tr>
	<td><div id="rw_chart"></div></td>
	<td><div id="cache_chart"></div></td>
      </tr>
    </table>
  </body>
</html>
